<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
    <title>Message Overview</title>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link th:href="@{/css/tailwind.css}" rel="stylesheet" />
</head>

<body>
    <div th:replace="~{header :: div}"></div>
    <div th:replace="~{nav :: div}"></div>

    <div class="mx-8 my-6 space-y-6">
        <label class="bg-gray-200 p-2 text-sm"><span class="text-orange-500">Message</span><span
                th:text="' > ' + ${message.subject}"></span></label>

        <div class="flex flex-row space-x-4">
            <div class="size-full bg-teal-500 p-2">
                <div class="mx-2 mb-2 flex justify-between text-lg font-semibold text-blue-700">
                    <span th:text="${message.subject}"></span>
                    <span th:text="'ID: ' + ${message.id}"></span>
                </div>
                <div class="mx-2 flex justify-between border-l-4 border-blue-700 bg-gray-200 p-1 font-black">
                    <div th:each="user : ${message.userRecipients}">
                        <p th:text="${user.name}"></p>
                    </div>
                </div>
                <div class="mx-2 grid min-h-80 grid-cols-1 space-x-1 border-l-4 border-blue-700 bg-slate-50 p-2">
                    <div>
                        <label class="text-lg font-bold">Content:</label>
                        <div th:text="${message.content}"></div>
                    </div>
                </div>
            </div>

            <div class="flex flex-col space-y-4">
                <a th:href="@{'/messages/reply/' + ${message.id}}"
                    class="flex min-w-36 max-w-36 cursor-pointer items-center items-center justify-center space-x-1 rounded-md bg-neutral-500 py-1">
                    <img class="size-5" src="/images/flecha-izquierda.png" />
                    <label class="text-slate-50">Reply</label>
                </a>
                <form th:action="@{'/home/communications/delete-message/' + ${message.id}}" method="post"
                    th:object="${message}"
                    class="flex min-w-36 max-w-36 cursor-pointer items-center items-center justify-center space-x-1 rounded-md bg-red-500 py-1">
                    <img class="size-5" src="/images/contenedor-de-basura.png" />
                    <input type="submit" value="Delete" class="text-slate-50" onclick="if (!confirm('Are you sure you want to delete this message?'))
                        return false;" />
                </form>
            </div>
        </div>
    </div>
</body>

</html>
