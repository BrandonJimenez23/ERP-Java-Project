<!doctype html>
<html xmlns:th="http://www.thymeleaf.org">

    <head>
        <title>Message Overview</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link th:href="@{/css/tailwind.css}" rel="stylesheet" />
    </head>

    <body>
        <div th:replace="~{header :: div}"></div>
        <div th:replace="~{nav :: div}"></div>

        <div class="mx-8 my-6 space-y-6">
            <label class="bg-gray-200 p-2 text-sm"><span class="text-orange-500">Message</span><span
                    th:text="' > ' + ${message.subject}"></span></label>

            <div class="grid-rows-1 size-full bg-teal-500 p-2">
                <div class="flex mx-2 border-l-4 border-blue-700 bg-gray-200 p-1 items-center justify-between">
                    <span class="font-bold text-lg p-1" th:text="${message.subject}"></span>
                    <div class="flex space-x-1">
                        <a th:href="@{'/home/communications/reply-message/' + ${message.id}}"
                           class="flex min-w-36 max-w-36 cursor-pointer items-center items-center justify-center space-x-1 rounded-md bg-neutral-500 py-1">
                            <img class="size-5" src="/images/responder.png" />
                            <label class="text-slate-50">Reply</label>
                        </a>
                        <form th:action="@{'/home/communications/delete-message/' + ${message.id}}" method="post"
                              th:object="${message}"
                              class="flex min-w-36 max-w-36 cursor-pointer items-center items-center justify-center space-x-1 rounded-md bg-red-500 py-1">
                            <img class="size-5" src="/images/contenedor-de-basura.png" />
                            <input type="submit" value="Delete" class="text-slate-50" onclick="if (!confirm('Are you sure you want to delete this message?'))
                                        return false;" />
                        </form>
                    </div>
                </div>
                <div class="flex flex-col mx-2 min-h-80 border-l-4 border-blue-700 bg-slate-50 p-2 space-y-2">

                    <div class="flex flex-col">                       
                    <label class="font-bold">To</label>
                    <div th:each="user : ${message.userRecipients}">
                        <label th:text="${user.name}"></label>
                    </div>
                    </div>
                    
                    <div class="flex flex-col">                       
                    <label class="font-bold">Message</label>
                    <label th:text="${message.content}"></label>
                    </div>
                </div>
            </div>

        </div>
    </body>

</html>
